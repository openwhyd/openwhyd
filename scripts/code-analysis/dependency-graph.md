# Dependency analysis generated by `scripts/code-analysis/report.sh`

## Forbidden dependency check - results

### :chart_with_upwards_trend: Summary

**129** modules&nbsp;&nbsp;&nbsp;&nbsp;**341** dependencies&nbsp;&nbsp;&nbsp;&nbsp;**1** errors&nbsp;&nbsp;&nbsp;&nbsp;**18** warnings&nbsp;&nbsp;&nbsp;&nbsp;**0** informational&nbsp;&nbsp;&nbsp;&nbsp;**0** ignored


|rule|violations|ignored|explanation
|:---|:---:|:---:|:---|
|:warning:&nbsp;_no-circular_|**12**|**0**|This dependency is part of a circular relationship. You might want to revise your solution (i.e. use dependency inversion, make sure the modules have a single responsibility) |
|:warning:&nbsp;_no-orphans_|**6**|**0**|This is an orphan module - it's likely not used (anymore?). Either use it or remove it. If it's logical this module is an orphan (i.e. it's a config file), add an exception for it in your dependency-cruiser configuration. By default this rule does not scrutinize dot-files (e.g. .eslintrc.js), TypeScript declaration files (.d.ts), tsconfig.json and some of the babel and webpack configs.|
|:exclamation:&nbsp;_not-to-unresolvable_|**1**|**0**|This module depends on a module that cannot be found ('resolved to disk'). If it's an npm module: add it to your package.json. In all other cases you likely already know what to do.|


### :fire: All violations

<details><summary>Violations found - click to expand</summary>

|violated rule|module|to|
|:---|:---|:---|
|:exclamation:&nbsp;_not-to-unresolvable_|app/lib/hypem/index.js|../get|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/follow.js &rightarrow;<br/>app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/email.js|app/models/user.js &rightarrow;<br/>app/models/email.js|
|:warning:&nbsp;_no-circular_|app/models/mongodb.js|app/models/user.js &rightarrow;<br/>app/models/mongodb.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/notifEmails.js &rightarrow;<br/>app/models/email.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notifEmails.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js|
|:warning:&nbsp;_no-circular_|app/models/notifEmails.js|app/templates/notif.js &rightarrow;<br/>app/models/featuredUsers.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js|
|:warning:&nbsp;_no-circular_|app/models/post.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js|
|:warning:&nbsp;_no-circular_|app/models/track.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js &rightarrow;<br/>app/templates/notif.js &rightarrow;<br/>app/models/track.js|
|:warning:&nbsp;_no-circular_|app/templates/notif.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js &rightarrow;<br/>app/templates/notif.js|
|:warning:&nbsp;_no-orphans_|app/controllers/admin/testUpload.js||
|:warning:&nbsp;_no-orphans_|app/controllers/iframe.js||
|:warning:&nbsp;_no-orphans_|app/controllers/now.js||
|:warning:&nbsp;_no-orphans_|app/controllers/subdir.js||
|:warning:&nbsp;_no-orphans_|app/domain/OpenWhydFeatures.js||
|:warning:&nbsp;_no-orphans_|app/models/htmlDom.js||


</details>

---
[dependency-cruiser@15.5.0](https://www.github.com/sverweij/dependency-cruiser) / 2023-12-23T17:10:39.358Z

## DDot graph

![](./assets/dependency-ddot.svg)

## Archi graph

![](./assets/dependency-archi.svg)

## Full dependency graph

```mermaid
flowchart LR

subgraph 0["app"]
1["MyController.js"]
subgraph 2["controllers"]
3["LibAll.js"]
12["LibFriends.js"]
13["LibUser.js"]
14["LibUserPlaylist.js"]
15["LibUserProfile.js"]
16["recentActivity.js"]
subgraph 18["admin"]
19["FileController.js"]
1A["analytics.js"]
1B["config.js"]
1C["db.js"]
1D["index.js"]
1E["invites.js"]
1F["session.js"]
1G["stats.js"]
1H["test.js"]
1J["testEmail.js"]
1K["testMainTemplate.js"]
1L["testNotifs.js"]
1M["testTemplates.js"]
1N["testUpload.js"]
subgraph 1O["tests"]
1P["follow.js"]
1Q["playlist.js"]
1R["stream.js"]
end
1S["users.js"]
end
subgraph 1U["api"]
1V["bandcampExtractor.js"]
1W["facebookLogin.js"]
1X["login.js"]
1Y["user.js"]
22["fbfriends.js"]
23["follow.js"]
24["lastFm.js"]
25["notif.js"]
26["playlist.js"]
27["post.js"]
29["postEdit.js"]
2A["searchHypeMachine.js"]
2G["unsubscribe.js"]
end
1Z["uploadedFile.js"]
2H["consent.js"]
2I["hotTracks.js"]
2J["iframe.js"]
2K["invite.js"]
2O["now.js"]
2P["onboarding.js"]
2Q["postViewer.js"]
subgraph 2T["private"]
2U["digest.js"]
2V["fbCanvas.js"]
2W["password.js"]
2X["playlistOrder.js"]
2Y["register.js"]
2Z["search.js"]
31["upload.js"]
36["wsYoutube.js"]
end
37["redir.js"]
38["settings.js"]
39["static.js"]
3A["subdir.js"]
subgraph 3B["testing"]
3C["refresh.js"]
3D["reset.js"]
end
3H["userLibrary.js"]
end
subgraph 4["models"]
5["mongodb.js"]
7["mongodb-shell-runner.js"]
9["user.js"]
B["email.js"]
C["config.js"]
D["email-validation.js"]
E["post.js"]
F["activity.js"]
G["follow.js"]
M["notif.js"]
N["notifEmails.js"]
Q["featuredUsers.js"]
R["track.js"]
W["search.js"]
11["comment.js"]
21["facebook.js"]
28["analytics.js"]
3V["emailAdminsOnly.js"]
3W["emailFake.js"]
3X["emailSendgrid.js"]
3Y["htmlDom.js"]
3Z["logging.js"]
40["searchAlgolia.js"]
41["searchElastic.js"]
42["searchMongo.js"]
43["solrIndex.js"]
end
H["snip.js"]
subgraph O["templates"]
P["notif.js"]
U["notifDigest.js"]
V["templateLoader.js"]
X["feed.js"]
Y["mainTemplate.js"]
10["posts.js"]
17["uiSnippets.js"]
1T["adminLists.js"]
20["logging.js"]
2M["inviteForm.js"]
2N["invitePage.js"]
2R["error.js"]
2S["postViewer.js"]
30["search.js"]
end
subgraph S["features"]
T["hot-tracks.js"]
end
subgraph 2B["lib"]
subgraph 2C["hypem"]
2D["index.js"]
end
subgraph 32["my-img"]
33["index.js"]
35["node-magick.js"]
end
subgraph 3O["auth0"]
3P["features.js"]
3Q["index.js"]
end
subgraph 3R["my-http-wrapper"]
subgraph 3S["http"]
3T["Application.js"]
3U["index.js"]
end
end
end
2L["genuine.js"]
subgraph 3E["infrastructure"]
3F["ImageStorage.js"]
subgraph 3M["mongodb"]
3N["UserCollection.js"]
end
end
subgraph 3I["domain"]
3J["OpenWhydFeatures.js"]
subgraph 3K["user"]
3L["User.js"]
end
end
subgraph 44["workers"]
45["fbGroupImport.js"]
46["notifEmails.js"]
end
end
subgraph 6["fs"]
3G["promises"]
end
8["vm"]
A["crypto"]
I["http"]
J["https"]
K["querystring"]
L["url"]
Z["util"]
1I["path"]
subgraph 2E[".."]
2F["get"]
end
34["child_process"]
3-->5
3-->E
3-->X
5-->7
5-->9
5-->6
7-->8
9-->B
9-->5
9-->E
9-->W
9-->H
9-->A
B-->C
B-->D
B-->9
E-->F
E-->M
E-->W
E-->H
E-->5
F-->G
F-->5
F-->E
G-->H
G-->5
H-->6
H-->I
H-->J
H-->K
H-->L
M-->C
M-->N
M-->H
M-->5
N-->B
N-->5
N-->9
N-->P
P-->C
P-->Q
P-->5
P-->R
P-->U
P-->V
Q-->9
R-->T
R-->C
R-->5
U-->C
U-->V
V-->6
W-->C
X-->C
X-->H
X-->Y
X-->10
X-->V
Y-->C
Y-->H
Y-->6
Y-->Z
10-->11
10-->C
10-->5
10-->E
10-->H
10-->V
11-->5
11-->M
11-->E
11-->H
12-->G
12-->E
12-->X
13-->C
13-->G
13-->E
13-->9
13-->X
13-->14
13-->15
14-->C
14-->E
14-->V
15-->16
15-->F
15-->G
15-->5
15-->E
15-->9
15-->H
15-->X
15-->10
15-->V
15-->17
16-->F
16-->G
16-->5
16-->E
16-->9
16-->H
16-->Y
16-->10
16-->V
17-->H
1A-->5
1A-->9
1A-->Y
1B-->C
1B-->19
1C-->5
1C-->H
1C-->19
1D-->5
1D-->W
1E-->5
1E-->N
1E-->9
1E-->H
1E-->Y
1F-->1
1G-->5
1G-->H
1G-->19
1H-->H
1H-->6
1H-->1I
1J-->B
1J-->P
1K-->Y
1L-->5
1L-->M
1M-->P
1M-->V
1P-->G
1Q-->C
1Q-->H
1Q-->K
1R-->G
1R-->E
1S-->5
1S-->9
1S-->H
1S-->1T
1T-->Y
1T-->17
1V-->C
1W-->1X
1W-->21
1W-->9
1X-->1Y
1X-->C
1X-->B
1X-->N
1X-->9
1X-->H
1X-->20
1Y-->B
1Y-->G
1Y-->5
1Y-->N
1Y-->E
1Y-->9
1Y-->H
1Y-->1Z
1Z-->C
1Z-->5
1Z-->E
1Z-->6
20-->C
20-->H
20-->Y
20-->V
21-->9
21-->J
21-->K
22-->21
23-->G
23-->M
23-->9
23-->H
24-->9
24-->H
24-->17
24-->A
24-->K
25-->5
25-->M
26-->M
26-->E
26-->9
26-->1Z
27-->28
27-->11
27-->G
27-->5
27-->M
27-->E
27-->9
27-->H
27-->24
28-->H
28-->6
29-->C
29-->E
29-->9
29-->H
29-->Y
29-->V
2A-->2D
2D-->2F
2G-->9
2H-->5
2H-->9
2H-->H
2H-->Y
2H-->6
2I-->C
2I-->R
2I-->H
2I-->Y
2I-->10
2I-->V
2K-->2L
2K-->9
2K-->2M
2K-->2N
2K-->Y
2K-->V
2L-->A
2M-->H
2M-->Y
2M-->P
2M-->V
2N-->C
2N-->V
2N-->Y
2P-->Y
2P-->V
2Q-->5
2Q-->E
2Q-->2R
2Q-->2S
2R-->H
2R-->Y
2R-->6
2S-->C
2S-->10
2S-->17
2S-->Y
2U-->F
2U-->B
2U-->G
2U-->5
2U-->E
2U-->P
2V-->5
2V-->9
2V-->2N
2W-->C
2W-->N
2W-->9
2W-->V
2X-->E
2X-->Y
2X-->10
2X-->V
2Y-->1Y
2Y-->2L
2Y-->B
2Y-->G
2Y-->5
2Y-->M
2Y-->N
2Y-->9
2Y-->20
2Y-->2K
2Z-->C
2Z-->G
2Z-->5
2Z-->E
2Z-->W
2Z-->30
30-->Y
30-->10
30-->V
31-->33
31-->1Z
33-->35
33-->34
33-->6
33-->I
35-->34
36-->I
37-->C
38-->Y
38-->V
39-->C
3C-->5
3D-->3F
3D-->5
3F-->3G
3F-->1I
3H-->5
3H-->9
3H-->2R
3H-->X
3H-->20
3H-->3
3H-->12
3H-->13
3N-->3L
3N-->5
3P-->3Q
3T-->1F
3T-->6
3T-->I
3U-->3T
3V-->3W
3V-->3X
3X-->H
3X-->J
3X-->K
3Z-->3Q
3Z-->H
3Z-->2R
3Z-->20
3Z-->C
3Z-->5
3Z-->I
3Z-->K
40-->H
41-->I
42-->Z
43-->I
45-->Z
46-->2U
46-->C
46-->B
46-->9
```

## Full dependency graph by arkit

![](./assets/arkit.svg)
