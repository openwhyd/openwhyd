# Dependency analysis generated by `scripts/code-analysis/report.sh`

## Forbidden dependency check - results

### :chart_with_upwards_trend: Summary

**133** modules&nbsp;&nbsp;&nbsp;&nbsp;**346** dependencies&nbsp;&nbsp;&nbsp;&nbsp;**1** errors&nbsp;&nbsp;&nbsp;&nbsp;**18** warnings&nbsp;&nbsp;&nbsp;&nbsp;**0** informational&nbsp;&nbsp;&nbsp;&nbsp;**0** ignored


|rule|violations|ignored|explanation
|:---|:---:|:---:|:---|
|:warning:&nbsp;_no-circular_|**12**|**0**|This dependency is part of a circular relationship. You might want to revise your solution (i.e. use dependency inversion, make sure the modules have a single responsibility) |
|:warning:&nbsp;_no-orphans_|**6**|**0**|This is an orphan module - it's likely not used (anymore?). Either use it or remove it. If it's logical this module is an orphan (i.e. it's a config file), add an exception for it in your dependency-cruiser configuration. By default this rule does not scrutinize dot-files (e.g. .eslintrc.js), TypeScript declaration files (.d.ts), tsconfig.json and some of the babel and webpack configs.|
|:exclamation:&nbsp;_not-to-unresolvable_|**1**|**0**|This module depends on a module that cannot be found ('resolved to disk'). If it's an npm module: add it to your package.json. In all other cases you likely already know what to do.|


### :fire: All violations

<details><summary>Violations found - click to expand</summary>

|violated rule|module|to|
|:---|:---|:---|
|:exclamation:&nbsp;_not-to-unresolvable_|app/lib/hypem/index.js|../get|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/follow.js &rightarrow;<br/>app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/email.js|app/models/user.js &rightarrow;<br/>app/models/email.js|
|:warning:&nbsp;_no-circular_|app/models/mongodb.js|app/models/user.js &rightarrow;<br/>app/models/mongodb.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/notifEmails.js &rightarrow;<br/>app/models/email.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notifEmails.js|app/templates/notif.js &rightarrow;<br/>app/models/featuredUsers.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js|
|:warning:&nbsp;_no-circular_|app/models/post.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js|
|:warning:&nbsp;_no-circular_|app/models/post.js|app/models/user.js &rightarrow;<br/>app/models/post.js|
|:warning:&nbsp;_no-circular_|app/models/track.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js &rightarrow;<br/>app/templates/notif.js &rightarrow;<br/>app/models/track.js|
|:warning:&nbsp;_no-orphans_|app/controllers/admin/testUpload.js||
|:warning:&nbsp;_no-orphans_|app/controllers/iframe.js||
|:warning:&nbsp;_no-orphans_|app/controllers/now.js||
|:warning:&nbsp;_no-orphans_|app/controllers/subdir.js||
|:warning:&nbsp;_no-orphans_|app/domain/OpenWhydFeatures.js||
|:warning:&nbsp;_no-orphans_|app/models/htmlDom.js||


</details>

---
[dependency-cruiser@16.10.2](https://www.github.com/sverweij/dependency-cruiser) / 2025-05-29T12:36:50.233Z

## DDot graph

![](./assets/dependency-ddot.svg)

## Archi graph

![](./assets/dependency-archi.svg)

## Full dependency graph

```mermaid
flowchart LR

subgraph 0["app"]
1["MyController.js"]
subgraph 2["api-v2"]
3["OpenwhydApiV2.js"]
subgraph 18["provisional-features"]
19["postTrack.js"]
end
end
subgraph 5["infrastructure"]
subgraph 6["mongodb"]
7["UserCollection.js"]
end
3S["ImageStorage.js"]
end
subgraph 8["domain"]
subgraph 9["user"]
A["User.js"]
end
3V["OpenWhydFeatures.js"]
end
subgraph B["models"]
C["mongodb.js"]
E["mongodb-shell-runner.js"]
G["user.js"]
I["email.js"]
J["config.js"]
K["email-validation.js"]
L["post.js"]
M["activity.js"]
N["follow.js"]
T["notif.js"]
U["notifEmails.js"]
X["featuredUsers.js"]
Y["track.js"]
13["search.js"]
1G["comment.js"]
2G["facebook.js"]
2N["analytics.js"]
41["emailAdminsOnly.js"]
42["emailFake.js"]
43["emailSendgrid.js"]
44["htmlDom.js"]
45["logging.js"]
46["searchAlgolia.js"]
47["searchElastic.js"]
48["searchMongo.js"]
49["solrIndex.js"]
end
O["snip.js"]
subgraph V["templates"]
W["notif.js"]
11["notifDigest.js"]
12["templateLoader.js"]
1C["feed.js"]
1D["mainTemplate.js"]
1F["posts.js"]
1M["uiSnippets.js"]
28["adminLists.js"]
2F["logging.js"]
30["inviteForm.js"]
31["invitePage.js"]
35["error.js"]
36["postViewer.js"]
3E["search.js"]
end
subgraph Z["features"]
10["hot-tracks.js"]
end
subgraph 14["lib"]
subgraph 15["auth0"]
16["index.js"]
3W["features.js"]
end
17["ErrorWithStatusCode.js"]
subgraph 2Q["hypem"]
2R["index.js"]
end
subgraph 3G["my-img"]
3H["index.js"]
3J["node-magick.js"]
end
subgraph 3X["my-http-wrapper"]
subgraph 3Y["http"]
3Z["Application.js"]
40["index.js"]
end
end
end
subgraph 1A["controllers"]
1B["LibAll.js"]
1H["LibFriends.js"]
1I["LibUser.js"]
1J["LibUserPlaylist.js"]
1K["LibUserProfile.js"]
1L["recentActivity.js"]
subgraph 1N["admin"]
1O["FileController.js"]
1P["analytics.js"]
1Q["config.js"]
1R["db.js"]
1S["index.js"]
1T["invites.js"]
1U["session.js"]
1V["stats.js"]
1W["test.js"]
1Y["testEmail.js"]
1Z["testMainTemplate.js"]
20["testNotifs.js"]
21["testTemplates.js"]
22["testUpload.js"]
subgraph 23["tests"]
24["follow.js"]
25["playlist.js"]
26["stream.js"]
end
27["users.js"]
end
subgraph 29["api"]
2A["bandcampExtractor.js"]
2B["facebookLogin.js"]
2C["login.js"]
2D["user.js"]
2H["fbfriends.js"]
2I["follow.js"]
2J["lastFm.js"]
2K["notif.js"]
2L["playlist.js"]
2M["post.js"]
2O["postEdit.js"]
2P["searchHypeMachine.js"]
2U["unsubscribe.js"]
end
2E["uploadedFile.js"]
2V["consent.js"]
2W["hotTracks.js"]
2X["iframe.js"]
2Y["invite.js"]
32["now.js"]
33["onboarding.js"]
34["postViewer.js"]
subgraph 37["private"]
38["digest.js"]
39["fbCanvas.js"]
3A["password.js"]
3B["playlistOrder.js"]
3C["register.js"]
3D["search.js"]
3F["upload.js"]
3K["wsYoutube.js"]
end
3L["redir.js"]
3M["settings.js"]
3N["static.js"]
3O["subdir.js"]
subgraph 3P["testing"]
3Q["refresh.js"]
3R["reset.js"]
end
3U["userLibrary.js"]
end
2Z["genuine.js"]
subgraph 4A["workers"]
4B["fbGroupImport.js"]
4C["notifEmails.js"]
end
end
4["assert"]
subgraph D["fs"]
3T["promises"]
end
F["vm"]
H["crypto"]
P["http"]
Q["https"]
R["querystring"]
S["url"]
1E["util"]
1X["path"]
subgraph 2S[".."]
2T["get"]
end
3I["child_process"]
3-->7
3-->16
3-->17
3-->4
7-->A
7-->C
C-->E
C-->G
C-->D
E-->F
G-->I
G-->C
G-->L
G-->13
G-->O
G-->H
I-->J
I-->K
I-->G
L-->M
L-->T
L-->13
L-->O
L-->C
L-->G
M-->N
M-->C
M-->L
N-->O
N-->C
O-->D
O-->P
O-->Q
O-->R
O-->S
T-->J
T-->U
T-->O
T-->C
T-->G
U-->I
U-->G
U-->W
W-->J
W-->X
W-->Y
W-->G
W-->11
W-->12
X-->G
Y-->10
Y-->J
Y-->C
11-->J
11-->12
12-->D
13-->J
19-->J
19-->L
1B-->L
1B-->1C
1C-->J
1C-->O
1C-->1D
1C-->1F
1C-->12
1D-->J
1D-->O
1D-->D
1D-->1E
1F-->1G
1F-->J
1F-->L
1F-->G
1F-->O
1F-->12
1G-->C
1G-->T
1G-->L
1G-->O
1G-->G
1H-->N
1H-->L
1H-->1C
1I-->J
1I-->N
1I-->L
1I-->G
1I-->1C
1I-->1J
1I-->1K
1J-->J
1J-->L
1J-->12
1K-->1L
1K-->M
1K-->N
1K-->C
1K-->L
1K-->G
1K-->O
1K-->1C
1K-->1F
1K-->12
1K-->1M
1L-->M
1L-->N
1L-->C
1L-->L
1L-->G
1L-->O
1L-->1D
1L-->1F
1L-->12
1M-->O
1P-->C
1P-->G
1P-->1D
1Q-->J
1Q-->1O
1R-->C
1R-->O
1R-->1O
1S-->C
1S-->13
1T-->C
1T-->U
1T-->G
1T-->1D
1U-->1
1V-->C
1V-->O
1V-->1O
1W-->O
1W-->D
1W-->1X
1Y-->I
1Y-->W
1Z-->1D
20-->C
20-->T
21-->W
21-->12
24-->N
25-->J
25-->O
25-->R
26-->N
26-->L
27-->G
27-->O
27-->28
28-->1D
28-->1M
2A-->J
2B-->2C
2B-->2G
2B-->G
2C-->2D
2C-->J
2C-->I
2C-->U
2C-->G
2C-->O
2C-->2F
2D-->I
2D-->N
2D-->U
2D-->L
2D-->G
2D-->O
2D-->2E
2E-->J
2E-->C
2E-->L
2E-->G
2E-->D
2F-->J
2F-->O
2F-->1D
2F-->12
2G-->G
2G-->Q
2G-->R
2H-->2G
2I-->N
2I-->T
2I-->G
2I-->O
2J-->G
2J-->O
2J-->1M
2J-->H
2J-->R
2K-->T
2L-->T
2L-->L
2L-->G
2L-->2E
2M-->2N
2M-->1G
2M-->N
2M-->C
2M-->T
2M-->L
2M-->G
2M-->O
2M-->2J
2N-->O
2N-->D
2O-->J
2O-->L
2O-->G
2O-->O
2O-->1D
2O-->12
2P-->2R
2R-->2T
2U-->G
2V-->C
2V-->G
2V-->O
2V-->1D
2V-->D
2W-->J
2W-->Y
2W-->O
2W-->1D
2W-->1F
2W-->12
2Y-->2Z
2Y-->G
2Y-->30
2Y-->31
2Y-->1D
2Y-->12
2Z-->H
30-->O
30-->1D
30-->W
30-->12
31-->J
31-->12
31-->1D
33-->1D
33-->12
34-->C
34-->L
34-->35
34-->36
35-->O
35-->1D
35-->D
36-->J
36-->1F
36-->1M
36-->1D
38-->M
38-->I
38-->N
38-->C
38-->L
38-->W
39-->G
39-->31
3A-->J
3A-->U
3A-->G
3A-->12
3B-->L
3B-->1D
3B-->1F
3B-->12
3C-->2D
3C-->2Z
3C-->I
3C-->N
3C-->T
3C-->U
3C-->G
3C-->2F
3C-->2Y
3D-->J
3D-->N
3D-->C
3D-->L
3D-->13
3D-->G
3D-->3E
3E-->1D
3E-->1F
3E-->12
3F-->3H
3F-->2E
3H-->3J
3H-->3I
3H-->D
3H-->P
3J-->3I
3K-->P
3L-->J
3M-->1D
3M-->12
3N-->J
3Q-->C
3R-->3S
3R-->C
3S-->3T
3S-->1X
3U-->C
3U-->G
3U-->35
3U-->1C
3U-->2F
3U-->1B
3U-->1H
3U-->1I
3W-->16
3Z-->3
3Z-->19
3Z-->1U
3Z-->D
3Z-->P
40-->3Z
41-->42
41-->43
43-->O
43-->Q
43-->R
45-->16
45-->O
45-->35
45-->2F
45-->J
45-->G
45-->P
45-->R
46-->O
47-->P
48-->1E
49-->P
4B-->1E
4C-->38
4C-->J
4C-->I
4C-->G
```

## Full dependency graph by arkit

![](./assets/arkit.svg)
