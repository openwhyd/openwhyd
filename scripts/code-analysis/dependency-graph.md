# Dependency analysis generated by `scripts/code-analysis/report.sh`

## Forbidden dependency check - results

### :chart_with_upwards_trend: Summary

**128** modules&nbsp;&nbsp;&nbsp;&nbsp;**336** dependencies&nbsp;&nbsp;&nbsp;&nbsp;**1** errors&nbsp;&nbsp;&nbsp;&nbsp;**18** warnings&nbsp;&nbsp;&nbsp;&nbsp;**0** informational&nbsp;&nbsp;&nbsp;&nbsp;**0** ignored


|rule|violations|ignored|explanation
|:---|:---:|:---:|:---|
|:warning:&nbsp;_no-circular_|**12**|**0**|This dependency is part of a circular relationship. You might want to revise your solution (i.e. use dependency inversion, make sure the modules have a single responsibility) |
|:warning:&nbsp;_no-orphans_|**6**|**0**|This is an orphan module - it's likely not used (anymore?). Either use it or remove it. If it's logical this module is an orphan (i.e. it's a config file), add an exception for it in your dependency-cruiser configuration. By default this rule does not scrutinize dot-files (e.g. .eslintrc.js), TypeScript declaration files (.d.ts), tsconfig.json and some of the babel and webpack configs.|
|:exclamation:&nbsp;_not-to-unresolvable_|**1**|**0**|This module depends on a module that cannot be found ('resolved to disk'). If it's an npm module: add it to your package.json. In all other cases you likely already know what to do.|


### :fire: All violations

<details><summary>Violations found - click to expand</summary>

|violated rule|module|to|
|:---|:---|:---|
|:exclamation:&nbsp;_not-to-unresolvable_|app/lib/hypem/index.js|../get|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/follow.js &rightarrow;<br/>app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/activity.js|app/models/post.js &rightarrow;<br/>app/models/activity.js|
|:warning:&nbsp;_no-circular_|app/models/email.js|app/models/user.js &rightarrow;<br/>app/models/email.js|
|:warning:&nbsp;_no-circular_|app/models/mongodb.js|app/models/user.js &rightarrow;<br/>app/models/mongodb.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/notifEmails.js &rightarrow;<br/>app/models/email.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notif.js|app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js|
|:warning:&nbsp;_no-circular_|app/models/notifEmails.js|app/templates/notif.js &rightarrow;<br/>app/models/featuredUsers.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js|
|:warning:&nbsp;_no-circular_|app/models/post.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js|
|:warning:&nbsp;_no-circular_|app/models/post.js|app/models/user.js &rightarrow;<br/>app/models/post.js|
|:warning:&nbsp;_no-circular_|app/models/track.js|app/models/mongodb.js &rightarrow;<br/>app/models/user.js &rightarrow;<br/>app/models/post.js &rightarrow;<br/>app/models/notif.js &rightarrow;<br/>app/models/notifEmails.js &rightarrow;<br/>app/templates/notif.js &rightarrow;<br/>app/models/track.js|
|:warning:&nbsp;_no-orphans_|app/controllers/admin/testUpload.js||
|:warning:&nbsp;_no-orphans_|app/controllers/iframe.js||
|:warning:&nbsp;_no-orphans_|app/controllers/now.js||
|:warning:&nbsp;_no-orphans_|app/controllers/subdir.js||
|:warning:&nbsp;_no-orphans_|app/domain/OpenWhydFeatures.js||
|:warning:&nbsp;_no-orphans_|app/models/htmlDom.js||


</details>

---
[dependency-cruiser@16.10.2](https://www.github.com/sverweij/dependency-cruiser) / 2025-05-29T12:38:19.591Z

## DDot graph

![](./assets/dependency-ddot.svg)

## Archi graph

![](./assets/dependency-archi.svg)

## Full dependency graph

```mermaid
flowchart LR

subgraph 0["app"]
1["MyController.js"]
subgraph 2["api-v2"]
3["OpenwhydApiV2.js"]
subgraph 18["provisional-features"]
19["postTrack.js"]
end
end
subgraph 5["infrastructure"]
subgraph 6["mongodb"]
7["UserCollection.js"]
end
3O["ImageStorage.js"]
end
subgraph 8["domain"]
subgraph 9["user"]
A["User.js"]
end
3R["OpenWhydFeatures.js"]
end
subgraph B["models"]
C["mongodb.js"]
E["mongodb-shell-runner.js"]
G["user.js"]
I["email.js"]
J["config.js"]
K["email-validation.js"]
L["post.js"]
M["activity.js"]
N["follow.js"]
T["notif.js"]
U["notifEmails.js"]
X["featuredUsers.js"]
Y["track.js"]
13["search.js"]
1G["comment.js"]
2K["analytics.js"]
3X["emailAdminsOnly.js"]
3Y["emailFake.js"]
3Z["emailSendgrid.js"]
40["htmlDom.js"]
41["logging.js"]
42["searchAlgolia.js"]
43["searchElastic.js"]
44["searchMongo.js"]
45["solrIndex.js"]
end
O["snip.js"]
subgraph V["templates"]
W["notif.js"]
11["notifDigest.js"]
12["templateLoader.js"]
1C["feed.js"]
1D["mainTemplate.js"]
1F["posts.js"]
1M["uiSnippets.js"]
28["adminLists.js"]
2G["logging.js"]
2X["inviteForm.js"]
2Y["invitePage.js"]
32["error.js"]
33["postViewer.js"]
3A["search.js"]
end
subgraph Z["features"]
10["hot-tracks.js"]
end
subgraph 14["lib"]
subgraph 15["auth0"]
16["index.js"]
3S["features.js"]
end
17["ErrorWithStatusCode.js"]
subgraph 2N["hypem"]
2O["index.js"]
end
subgraph 3C["my-img"]
3D["index.js"]
3F["node-magick.js"]
end
subgraph 3T["my-http-wrapper"]
subgraph 3U["http"]
3V["Application.js"]
3W["index.js"]
end
end
end
subgraph 1A["controllers"]
1B["LibAll.js"]
1H["LibFriends.js"]
1I["LibUser.js"]
1J["LibUserPlaylist.js"]
1K["LibUserProfile.js"]
1L["recentActivity.js"]
subgraph 1N["admin"]
1O["FileController.js"]
1P["analytics.js"]
1Q["config.js"]
1R["db.js"]
1S["index.js"]
1T["invites.js"]
1U["session.js"]
1V["stats.js"]
1W["test.js"]
1Y["testEmail.js"]
1Z["testMainTemplate.js"]
20["testNotifs.js"]
21["testTemplates.js"]
22["testUpload.js"]
subgraph 23["tests"]
24["follow.js"]
25["playlist.js"]
26["stream.js"]
end
27["users.js"]
end
subgraph 29["api"]
2A["bandcampExtractor.js"]
2B["follow.js"]
2C["lastFm.js"]
2D["login.js"]
2E["user.js"]
2H["notif.js"]
2I["playlist.js"]
2J["post.js"]
2L["postEdit.js"]
2M["searchHypeMachine.js"]
2R["unsubscribe.js"]
end
2F["uploadedFile.js"]
2S["consent.js"]
2T["hotTracks.js"]
2U["iframe.js"]
2V["invite.js"]
2Z["now.js"]
30["onboarding.js"]
31["postViewer.js"]
subgraph 34["private"]
35["digest.js"]
36["password.js"]
37["playlistOrder.js"]
38["register.js"]
39["search.js"]
3B["upload.js"]
3G["wsYoutube.js"]
end
3H["redir.js"]
3I["settings.js"]
3J["static.js"]
3K["subdir.js"]
subgraph 3L["testing"]
3M["refresh.js"]
3N["reset.js"]
end
3Q["userLibrary.js"]
end
2W["genuine.js"]
subgraph 46["workers"]
47["notifEmails.js"]
end
end
4["assert"]
subgraph D["fs"]
3P["promises"]
end
F["vm"]
H["crypto"]
P["http"]
Q["https"]
R["querystring"]
S["url"]
1E["util"]
1X["path"]
subgraph 2P[".."]
2Q["get"]
end
3E["child_process"]
3-->7
3-->16
3-->17
3-->4
7-->A
7-->C
C-->E
C-->G
C-->D
E-->F
G-->I
G-->C
G-->L
G-->13
G-->O
G-->H
I-->J
I-->K
I-->G
L-->M
L-->T
L-->13
L-->O
L-->C
L-->G
M-->N
M-->C
M-->L
N-->O
N-->C
O-->D
O-->P
O-->Q
O-->R
O-->S
T-->J
T-->U
T-->O
T-->C
T-->G
U-->I
U-->G
U-->W
W-->J
W-->X
W-->Y
W-->G
W-->11
W-->12
X-->G
Y-->10
Y-->J
Y-->C
11-->J
11-->12
12-->D
13-->J
19-->J
19-->L
1B-->L
1B-->1C
1C-->J
1C-->O
1C-->1D
1C-->1F
1C-->12
1D-->J
1D-->O
1D-->D
1D-->1E
1F-->1G
1F-->J
1F-->L
1F-->G
1F-->O
1F-->12
1G-->C
1G-->T
1G-->L
1G-->O
1G-->G
1H-->N
1H-->L
1H-->1C
1I-->J
1I-->N
1I-->L
1I-->G
1I-->1C
1I-->1J
1I-->1K
1J-->J
1J-->L
1J-->12
1K-->1L
1K-->M
1K-->N
1K-->C
1K-->L
1K-->G
1K-->O
1K-->1C
1K-->1F
1K-->12
1K-->1M
1L-->M
1L-->N
1L-->C
1L-->L
1L-->G
1L-->O
1L-->1D
1L-->1F
1L-->12
1M-->O
1P-->C
1P-->G
1P-->1D
1Q-->J
1Q-->1O
1R-->C
1R-->O
1R-->1O
1S-->C
1S-->13
1T-->C
1T-->U
1T-->G
1T-->1D
1U-->1
1V-->C
1V-->O
1V-->1O
1W-->O
1W-->D
1W-->1X
1Y-->I
1Y-->W
1Z-->1D
20-->C
20-->T
21-->W
21-->12
24-->N
25-->J
25-->O
25-->R
26-->N
26-->L
27-->G
27-->O
27-->28
28-->1D
28-->1M
2A-->J
2B-->N
2B-->T
2B-->G
2B-->O
2C-->G
2C-->O
2C-->1M
2C-->H
2C-->R
2D-->2E
2D-->J
2D-->I
2D-->U
2D-->G
2D-->O
2D-->2G
2E-->I
2E-->N
2E-->U
2E-->L
2E-->G
2E-->O
2E-->2F
2F-->J
2F-->C
2F-->L
2F-->G
2F-->D
2G-->J
2G-->O
2G-->1D
2G-->12
2H-->T
2I-->T
2I-->L
2I-->G
2I-->2F
2J-->2K
2J-->1G
2J-->N
2J-->C
2J-->T
2J-->L
2J-->G
2J-->O
2J-->2C
2K-->O
2K-->D
2L-->J
2L-->L
2L-->G
2L-->O
2L-->1D
2L-->12
2M-->2O
2O-->2Q
2R-->G
2S-->C
2S-->G
2S-->O
2S-->1D
2S-->D
2T-->J
2T-->Y
2T-->O
2T-->1D
2T-->1F
2T-->12
2V-->2W
2V-->G
2V-->2X
2V-->2Y
2V-->1D
2V-->12
2W-->H
2X-->O
2X-->1D
2X-->W
2X-->12
2Y-->J
2Y-->12
2Y-->1D
30-->1D
30-->12
31-->C
31-->L
31-->32
31-->33
32-->O
32-->1D
32-->D
33-->J
33-->1F
33-->1M
33-->1D
35-->M
35-->I
35-->N
35-->C
35-->L
35-->W
36-->J
36-->U
36-->G
36-->12
37-->L
37-->1D
37-->1F
37-->12
38-->2E
38-->2W
38-->I
38-->N
38-->T
38-->U
38-->G
38-->2G
38-->2V
39-->J
39-->N
39-->C
39-->L
39-->13
39-->G
39-->3A
3A-->1D
3A-->1F
3A-->12
3B-->3D
3B-->2F
3D-->3F
3D-->3E
3D-->D
3D-->P
3F-->3E
3G-->P
3H-->J
3I-->1D
3I-->12
3J-->J
3M-->C
3N-->3O
3N-->C
3O-->3P
3O-->1X
3Q-->C
3Q-->G
3Q-->32
3Q-->1C
3Q-->2G
3Q-->1B
3Q-->1H
3Q-->1I
3S-->16
3V-->3
3V-->19
3V-->1U
3V-->D
3V-->P
3W-->3V
3X-->3Y
3X-->3Z
3Z-->O
3Z-->Q
3Z-->R
41-->16
41-->O
41-->32
41-->2G
41-->J
41-->G
41-->P
41-->R
42-->O
43-->P
44-->1E
45-->P
47-->35
47-->J
47-->I
47-->G
```

## Full dependency graph by arkit

![](./assets/arkit.svg)
